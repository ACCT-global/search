fragment Products on ResultResponse {
  products {
    cacheId
    productId
    productName
    productReference
    description
    categories
    categoryTree {
      name
      href
    }
    link
    linkText
    brand
    items {
      name
      itemId
      referenceId {
        Value
      }
      images {
        imageUrl
        imageTag
      }
      sellers {
        sellerId
        commertialOffer {
          Installments {
            Value
            InterestRate
            TotalValuePlusInterestRate
            NumberOfInstallments
            Name
          }
          AvailableQuantity
          Price
          ListPrice
        }
      }
    }
    productClusters {
      id
      name
    }
  }
}

query searchResult(
  $store: String!
  $attributePath: String
  $query: String
  $page: Int
  $count: Int
  $sort: String
  $operator: String
  $fuzzy: Int
  $leap: Boolean
) {
  searchResult(
    store: $store
    attributePath: $attributePath
    query: $query
    page: $page
    count: $count
    sort: $sort
    operator: $operator
    fuzzy: $fuzzy
    leap: $leap
  ) {
    ...Products
    query
    operator
    total
    redirect
    pagination {
      count
      current {
        index
        proxyUrl
      }
      before {
        index
        proxyUrl
      }
      after {
        index
        proxyUrl
      }
      next {
        index
        proxyUrl
      }
      previous {
        index
        proxyUrl
      }
      first {
        index
        proxyUrl
      }
      last {
        index
        proxyUrl
      }
    }
    options {
      sorts {
        field
        order
        active
        proxyUrl
      }
      counts {
        count
        active
        proxyUrl
      }
    }
    attributes {
      key
      label
      type
      visible
      values {
        count
        active
        proxyUrl
        key
        label
        from
        to
      }
      minValue
      maxValue
      active
      activeFrom
      activeTo
      templateUrl
      proxyUrl
    }
    suggestion {
      searches {
        term
      }
    }
    correction {
      text
      highlighted
      misspelled
      correction
    }
    banners {
      id
      name
      area
      html
    }
  }
}
